{"version":3,"file":"web3auth.esm.js","sources":["../src/config.ts","../src/default.ts","../src/modalManager.ts"],"sourcesContent":[null,null,null],"names":["defaultSolanaDappModalConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","adapters","SOLANA_ADAPTERS","TORUS_SOLANA","label","showOnModal","showOnMobile","showOnDesktop","OPENLOGIN","PHANTOM","defaultEvmDappModalConfig","EIP155","EVM_ADAPTERS","TORUS_EVM","METAMASK","WALLET_CONNECT_V1","defaultSolanaWalletModalConfig","defaultEvmWalletModalConfig","defaultOtherModalConfig","OTHER","getDefaultAdapterModule","params","name","customChainConfig","clientId","Object","values","includes","Error","finalChainConfig","getChainConfig","chainId","WALLET_ADAPTERS","TorusWalletAdapter","adapter","chainConfig","SolanaWalletAdapter","MetamaskAdapter","PhantomAdapter","WalletConnectV1Adapter","OpenloginAdapter","getOpenloginDefaultOptions","defaultOptions","_objectSpread","adapterSettings","Web3Auth","Web3AuthCore","constructor","options","providedChainConfig","authMode","modalConfig","loginModal","LoginModal","theme","uiConfig","appLogo","version","adapterListener","displayErrorsOnModal","subscribeToLoginModalEvents","initModal","checkInitRequirements","allAdapters","Set","keys","walletAdapters","adapterConfigurationPromises","map","adapterName","adapterConfig","log","debug","ad","type","ADAPTER_CATEGORY","IN_APP","EXTERNAL","cachedAdapter","setAdapterSettings","chainConfigProxy","coreOptions","setChainConfig","adapterNames","Promise","all","hasInAppWallets","some","loginMethods","mergedLoginMethods","getAdapterSocialLogins","method","initPromises","subscribeToAdapterEvents","status","ADAPTER_STATUS","NOT_READY","init","autoConnect","initializeInAppWallet","error","READY","hasExternalWallets","initExternalWalletContainer","initExternalWalletAdapters","showExternalWalletsOnly","connect","provider","open","resolve","reject","once","ADAPTER_EVENTS","CONNECTED","ERRORED","err","externalWalletsInitialized","adaptersConfig","adaptersData","adapterPromises","adapterData","adapterInitResults","finalAdaptersConfig","forEach","result","addWalletLogins","info","addSocialLogins","loginMethodsOrder","OPENLOGIN_PROVIDERS","on","LOGIN_MODAL_EVENTS","LOGIN","connectTo","loginParams","INIT_EXTERNAL_WALLETS","DISCONNECT","logout","MODAL_VISIBILITY","visibility","emit","walletConnectStatus"],"mappings":"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"}