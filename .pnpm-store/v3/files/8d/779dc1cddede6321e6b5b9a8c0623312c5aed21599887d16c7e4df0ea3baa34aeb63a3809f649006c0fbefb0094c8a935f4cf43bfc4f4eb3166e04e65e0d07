"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.mdxPlugin = void 0;
const vite_plugin_mdx_1 = __importDefault(require("vite-plugin-mdx"));
const mdx_1 = require("@storybook/csf-tools/mdx");
/**
 * Storybook uses two different loaders when dealing with MDX:
 *
 * - *stories.mdx and *story.mdx are compiled with the CSF compiler
 * - *.mdx are compiled with the MDX compiler directly
 *
 * @see https://github.com/storybookjs/storybook/blob/next/addons/docs/docs/recipes.md#csf-stories-with-arbitrary-mdx
 */
function mdxPlugin() {
    return (0, vite_plugin_mdx_1.default)((filename) => {
        const compilers = [];
        if (filename.endsWith('stories.mdx') || filename.endsWith('story.mdx')) {
            compilers.push((0, mdx_1.createCompiler)({}));
        }
        return {
            compilers,
        };
    });
}
exports.mdxPlugin = mdxPlugin;
//# sourceMappingURL=mdx-plugin.js.map